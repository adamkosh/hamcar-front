<template>
  <nuxt-link :to="link" class="advert">
    <div class="advert__badge">
      <svg
        class="advert__hamcar-badge"
        width="24"
        height="72"
        viewBox="0 0 24 72"
        fill="none"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M12.4924 21.0664C18.3056 24.2486 23.9998 29.3724 23.9998 35.9996C23.9997 42.6268 18.3056 47.7506 12.4924 50.9328C5.04812 55.0079 -3.97123e-07 62.9139 0 71.999L-3.14719e-06 -0.000236511C-3.14718e-06 -9.91821e-05 -1.04907e-06 4.57764e-05 -1.04907e-06 0.000183105C-6.51945e-07 9.0853 5.04812 16.9914 12.4924 21.0664Z"
          fill="#FF9E0B"
        ></path>
        <path
          d="M7.3461 34.1437C7.36902 33.3981 7.81612 32.7901 8.5269 32.5722C8.8135 32.4804 9.12302 32.4345 9.42109 32.423C11.8515 32.4116 14.2818 32.423 16.7122 32.4116C17.3313 32.4116 17.9503 32.3886 18.5694 32.3657C18.6267 32.3657 18.6955 32.3657 18.7528 32.3657C18.7757 32.3657 18.8101 32.3542 18.8445 32.3427C18.8445 32.033 18.8216 31.7348 18.8445 31.448C18.9019 30.863 18.7643 30.3583 18.2713 30.0027C18.2599 29.9912 18.2484 29.9683 18.2369 29.9453C15.1646 29.9453 12.0922 29.9453 9.01985 29.9453C8.67593 30.0027 8.32054 30.06 7.97662 30.1403C6.69265 30.4386 5.68381 31.1153 5.11061 32.3427C4.77815 33.0539 4.65205 33.811 4.62912 34.5796C4.61765 34.809 4.62912 35.0384 4.62912 35.2564C5.54624 35.2564 6.42897 35.2564 7.3461 35.2564C7.3461 34.8663 7.33463 34.4993 7.3461 34.1437Z"
          fill="white"
        ></path>
        <path
          d="M12.253 42.7597C13.0326 42.5418 13.7433 42.1862 14.3509 41.6356C15.0732 40.9702 15.4744 40.1329 15.7151 39.2037C15.8069 38.8596 15.8298 38.504 15.8871 38.1369C15.0044 38.1369 14.1904 38.1369 13.3536 38.1369C13.3306 38.2402 13.3192 38.3319 13.2848 38.4237C13.1013 39.0431 12.8262 39.6052 12.2874 40.0067C11.5881 40.5229 10.8085 40.5917 9.98312 40.4655C8.81379 40.2935 8.10302 39.5823 7.67885 38.5269C7.41518 37.8846 7.30054 37.2078 7.28907 36.4736C6.5783 36.4736 5.86753 36.4736 5.12237 36.4736C4.96187 36.4736 4.81284 36.4736 4.65234 36.4736C4.68674 36.8063 4.73259 37.1619 4.76698 37.506C4.8243 38.2057 4.99627 38.894 5.23701 39.5478C5.56947 40.4541 6.09681 41.2226 6.83051 41.8306C7.03686 42.0026 7.25468 42.1518 7.4725 42.2779C8.14888 42.6679 8.9055 42.8744 9.68506 42.9318C10.5449 43.0006 11.4161 43.0006 12.253 42.7597Z"
          fill="white"
        ></path>
      </svg>
    </div>
    <div class="advert__banner">
      <h-image
        :src="GetExhibitionLogoImage(exhibition.id, exhibition.logoImageName)"
        :alt="exhibition.title"
        class="advert__img"
      />
    </div>
    <div class="advert__body">
      <div class="advert__header align-items-center">
        <h3 class="advert__name">{{ exhibition.title }}</h3>
        <span class="advert__date-wide"
          >{{ splitNumber(exhibition.advertCount) }} آگهی ثبت شده</span
        >
      </div>
      <div class="advert__info"></div>
      <span class="advert__location">
        <svg
          width="22"
          height="22"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.7353 1.0613L14.7802 0.0623055L14.7353 1.0613ZM2 12.0047C2 14.1489 2.06944 15.827 2.27251 17.1531C2.4756 18.4792 2.80123 19.3719 3.25548 20.0005C4.12249 21.2004 5.72274 21.7866 9.29525 21.9484L9.20475 23.9463C5.63042 23.7844 3.10567 23.208 1.63439 21.1719C0.919489 20.1825 0.522655 18.9388 0.295561 17.4558C0.068451 15.9728 0 14.1692 0 12.0047H2ZM9.29525 21.9484C10.1072 21.9852 11.0052 22 12 22V24C10.9872 24 10.057 23.9849 9.20475 23.9463L9.29525 21.9484ZM8.25 22.9474V19.75H10.25V22.9474H8.25ZM12 22C12.9948 22 13.8928 21.9852 14.7047 21.9484L14.7953 23.9463C13.943 23.9849 13.0128 24 12 24V22ZM14.7047 21.9484C18.2773 21.7866 19.8775 21.2004 20.7445 20.0005C21.1988 19.3719 21.5244 18.4792 21.7275 17.1531C21.9306 15.827 22 14.1489 22 12.0047H24C24 14.1692 23.9315 15.9728 23.7044 17.4558C23.4773 18.9388 23.0805 20.1825 22.3656 21.1719C20.8943 23.208 18.3696 23.7844 14.7953 23.9463L14.7047 21.9484ZM15.75 19.75V22.9474H13.75V19.75H15.75ZM12 11.0047C12.9174 11.0047 13.6917 10.7232 14.2254 10.2356C14.7444 9.76132 15.125 9.01175 15.125 7.88141H17.125C17.125 9.4999 16.5596 10.812 15.5744 11.7121C14.6039 12.5989 13.3157 13.0047 12 13.0047V11.0047ZM8.875 7.88141C8.875 9.01175 9.25556 9.76132 9.77463 10.2356C10.3083 10.7232 11.0826 11.0047 12 11.0047V13.0047C10.6843 13.0047 9.39613 12.5989 8.42557 11.7121C7.44041 10.812 6.875 9.4999 6.875 7.88141H8.875ZM9.30956 2.06029C5.72969 2.22111 4.12598 2.8064 3.25734 4.00623C2.80245 4.63456 2.47632 5.52703 2.27293 6.85354C2.06954 8.17998 2 9.85897 2 12.0047H0C0 9.83863 0.0685425 8.03405 0.296032 6.55042C0.52351 5.06686 0.921055 3.82276 1.63733 2.83339C3.11103 0.797808 5.63966 0.223141 9.2198 0.0623055L9.30956 2.06029ZM9.26468 1.0613C10.2111 1.38434 10.2111 1.38426 10.2111 1.38419C10.2111 1.38419 10.2111 1.38414 10.2111 1.38414C10.2111 1.38414 10.2111 1.38419 10.2111 1.38431C10.211 1.38455 10.2108 1.38503 10.2106 1.38575C10.2101 1.3872 10.2093 1.38962 10.2081 1.39298C10.2059 1.3997 10.2023 1.41021 10.1976 1.42434C10.1882 1.4526 10.174 1.49534 10.1558 1.55124C10.1194 1.66306 10.0669 1.82737 10.0036 2.0337C9.8768 2.44686 9.70769 3.02595 9.53879 3.68781C9.19523 5.03408 8.875 6.63831 8.875 7.88141H6.875C6.875 6.37567 7.24961 4.56984 7.60089 3.19327C7.77941 2.49371 7.95773 1.88317 8.09153 1.44707C8.15851 1.22877 8.21453 1.05353 8.25411 0.931973C8.27391 0.871178 8.28961 0.823759 8.30053 0.791044C8.30599 0.774685 8.31026 0.761997 8.31325 0.753145C8.31474 0.74872 8.31592 0.745253 8.31676 0.742765C8.31719 0.741522 8.31753 0.740522 8.31778 0.739771C8.31791 0.739395 8.31802 0.73908 8.3181 0.738829C8.31815 0.738703 8.31819 0.738562 8.31822 0.738499C8.31826 0.738371 8.3183 0.73826 9.26468 1.0613ZM22 12.0047C22 9.85897 21.9305 8.17998 21.7271 6.85354C21.5237 5.52703 21.1976 4.63456 20.7427 4.00623C19.874 2.8064 18.2703 2.22111 14.6905 2.06029L14.7802 0.0623055C18.3603 0.223141 20.889 0.79781 22.3627 2.83339C23.0789 3.82276 23.4765 5.06686 23.704 6.55042C23.9315 8.03405 24 9.83863 24 12.0047H22ZM15.125 7.88141C15.125 6.63831 14.8048 5.03408 14.4612 3.6878C14.2923 3.02594 14.1232 2.44686 13.9965 2.0337C13.9331 1.82737 13.8806 1.66306 13.8442 1.55123C13.826 1.49534 13.8118 1.4526 13.8024 1.42434C13.7977 1.41021 13.7941 1.3997 13.7919 1.39297C13.7907 1.38961 13.7899 1.3872 13.7894 1.38575C13.7892 1.38503 13.789 1.38455 13.7889 1.38431C13.7889 1.38419 13.7889 1.38413 13.7889 1.38414C13.7889 1.38414 13.7889 1.38419 13.7889 1.38419C13.7889 1.38425 13.7889 1.38433 14.7353 1.0613C15.6817 0.738264 15.6818 0.738375 15.6818 0.738501C15.6818 0.738564 15.6819 0.738707 15.6819 0.738832C15.682 0.739084 15.6821 0.739397 15.6822 0.739773C15.6825 0.740524 15.6828 0.741524 15.6833 0.742767C15.6841 0.745256 15.6853 0.748722 15.6868 0.753149C15.6898 0.761999 15.694 0.774687 15.6995 0.791046C15.7104 0.823763 15.7261 0.87118 15.7459 0.931976C15.7855 1.05354 15.8415 1.22877 15.9085 1.44707C16.0423 1.88318 16.2206 2.49371 16.3991 3.19328C16.7504 4.56984 17.125 6.37567 17.125 7.88141H15.125ZM14.6905 2.06029C12.901 1.9799 11.099 1.9799 9.30956 2.06029L9.2198 0.0623055C11.0691 -0.020771 12.9309 -0.020771 14.7802 0.0623055L14.6905 2.06029ZM3.10081 13.0047H1V11.0047H3.10081V13.0047ZM20.8992 11.0047H23V13.0047H20.8992V11.0047ZM17.125 7.88141C17.125 8.78046 17.554 9.53965 18.2592 10.1007C18.9772 10.6719 19.9492 11.0047 20.8992 11.0047V13.0047C19.5146 13.0047 18.0996 12.5294 17.0141 11.6658C15.9158 10.792 15.125 9.48957 15.125 7.88141H17.125ZM8.875 7.88141C8.875 9.48957 8.08422 10.792 6.98594 11.6658C5.90044 12.5294 4.48538 13.0047 3.10081 13.0047V11.0047C4.05077 11.0047 5.0228 10.6719 5.74076 10.1007C6.44595 9.53965 6.875 8.78046 6.875 7.88141H8.875ZM12 16C14.0711 16 15.75 17.6789 15.75 19.75H13.75C13.75 18.7835 12.9665 18 12 18V16ZM8.25 19.75C8.25 17.6789 9.92893 16 12 16V18C11.0335 18 10.25 18.7835 10.25 19.75H8.25Z"
            fill="var(--color-black-200)"
          />
        </svg>

        {{ exhibition.address }}
      </span>
      <div class="advert__footer">
        <div class="advert__wrapper">
          <p class="advert__price row gap-2">
            <span class="row align-items-center font-3">
              {{ exhibition.telePhone }}
              <icons-phone :width="22" :height="22" />
            </span>

            <span class="row align-items-center font-3">
              {{ exhibition.phoneNumber }}
              <icons-phone :width="22" :height="22" />
            </span>
          </p>
        </div>
      </div>
    </div>
  </nuxt-link>
</template>
  
  <script setup lang="ts">
import { ref } from "#imports";
import { split } from "lodash";
import { AdvertisementFilterData } from "~~/models/advertisements/Advertisement.Models";
import { AdvertisementPaymentType } from "~~/models/advertisements/enums/AdvertisementPaymentType";
import { ExhibitionFilterData } from "~~/models/exhibitions/Exhibition.Models";
import { TimeAgo } from "~~/utilities/dateUtil";
import {
  GetAdvertImage,
  GetBitMapAdvertImage,
  GetExhibitionLogoImage,
} from "~~/utilities/imageUtil";
import { splitNumber } from "~~/utilities/numberUtils";

const props = defineProps<{
  exhibition: ExhibitionFilterData;
}>();
const link = ref("/exhibitions/" + props.exhibition.englishTitle);
</script>
  
  <style scoped>
@media screen and (max-width: 768px) {

  .advert__header .advert__date-wide {
    display: flex;
    position: unset !important;
    left: unset !important;
  }
}
a:-webkit-any-link {
  color: inherit;
}
.advert__header {
  position: relative;
}
.advert__header .advert__date-wide {
  position: absolute;
  left: 92px;
  background: transparent !important;
}
.advertising__row--wide-item .advert__price span {
  font-weight: 500;
  font-family: var(--t3-font-family) !important;
  font-size: var(--t3-font-size) !important;
}
.gap-2 {
  gap: 2rem;
}
</style>