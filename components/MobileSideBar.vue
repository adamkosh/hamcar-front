<template>
  <div>
    <div class="back__drop" @click="closeSideBar" v-if="modelValue"></div>
    <aside :class="['show', { close: modelValue == false }]">
      <div class="top">
        <div class="row justify-content-space-between">
          <nuxt-link to="/">
            <img src="/img/Persian-HamCar-Logo.png" alt="mobile__logo" />
          </nuxt-link>
          <svg
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.44141 1.44434L6.99696 6.99989M12.5525 12.5554L6.99696 6.99989M6.99696 6.99989L12.5525 1.44434M6.99696 6.99989L1.44141 12.5554"
              stroke="#ABADB3"
              stroke-width="1.25"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
        <nuxt-link
          @click="closeSideBar"
          :to="authData.isLogin ? '/account' : '/auth/login'"
          class="auth__link mt-2 font-3 gap-1 color_gray_600"
        >
          <svg
            width="22"
            height="24"
            viewBox="0 0 22 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1 19C1 19.9693 1.11783 20.618 1.34327 21.0791C1.5502 21.5023 1.88679 21.8473 2.51687 22.1337C3.17962 22.4349 4.14546 22.6599 5.5602 22.8028C6.96536 22.9448 8.74527 23 11 23C13.2547 23 15.0346 22.9448 16.4398 22.8028C17.8545 22.6599 18.8204 22.4349 19.4831 22.1337C20.1132 21.8473 20.4498 21.5023 20.6567 21.0791C20.8822 20.618 21 19.9693 21 19C21 18.0307 20.8822 17.382 20.6567 16.9209C20.4498 16.4977 20.1132 16.1527 19.4831 15.8663C18.8204 15.5651 17.8545 15.3401 16.4398 15.1972C15.0346 15.0552 13.2547 15 11 15C8.74527 15 6.96536 15.0552 5.5602 15.1972C4.14546 15.3401 3.17962 15.5651 2.51687 15.8663C1.88679 16.1527 1.5502 16.4977 1.34327 16.9209C1.11783 17.382 1 18.0307 1 19Z"
              stroke="#ABADB3"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <circle
              r="5"
              transform="matrix(-1 0 0 1 11 6)"
              stroke="#ABADB3"
              stroke-width="2"
            />
          </svg>

          ورود به حساب کاربری
        </nuxt-link>
      </div>
      <div class="body">
        <div class="tabs">
          <div
            :class="['tab', { active: activeTab == 1 }]"
            @click="activeTab = 1"
          >
            <svg
              width="34"
              height="17"
              viewBox="0 0 34 17"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11 6.27385C10.5858 6.27385 10.25 6.60964 10.25 7.02385C10.25 7.43806 10.5858 7.77385 11 7.77385V6.27385ZM13 7.77385C13.4142 7.77385 13.75 7.43806 13.75 7.02385C13.75 6.60964 13.4142 6.27385 13 6.27385V7.77385ZM17 6.27385C16.5858 6.27385 16.25 6.60964 16.25 7.02385C16.25 7.43806 16.5858 7.77385 17 7.77385V6.27385ZM19 7.77385C19.4142 7.77385 19.75 7.43806 19.75 7.02385C19.75 6.60964 19.4142 6.27385 19 6.27385V7.77385ZM32.49 11.859L33.237 11.926L32.49 11.859ZM23.4279 4.45185L23.9543 3.91763L23.4279 4.45185ZM32.7612 8.83221L32.0142 8.76529L32.7612 8.83221ZM0.25 8.09155V11.6214H1.75V8.09155H0.25ZM8.27273 9.10647C6.24151 9.10647 4.61364 10.7744 4.61364 12.8086H6.11364C6.11364 11.582 7.09065 10.6065 8.27273 10.6065V9.10647ZM11.9318 12.8086C11.9318 10.7744 10.3039 9.10647 8.27273 9.10647V10.6065C9.45481 10.6065 10.4318 11.582 10.4318 12.8086H11.9318ZM25.7273 9.10647C23.6961 9.10647 22.0682 10.7744 22.0682 12.8086H23.5682C23.5682 11.582 24.5452 10.6065 25.7273 10.6065V9.10647ZM29.3864 12.8086C29.3864 10.7744 27.7585 9.10647 25.7273 9.10647V10.6065C26.9094 10.6065 27.8864 11.582 27.8864 12.8086H29.3864ZM4.61364 12.8086C4.61364 13.4796 4.7907 14.1113 5.10125 14.6561L6.4044 13.9133C6.2199 13.5896 6.11364 13.2131 6.11364 12.8086H4.61364ZM5.10125 14.6561C5.73029 15.7597 6.91196 16.5108 8.27273 16.5108V15.0108C7.47994 15.0108 6.78134 14.5746 6.4044 13.9133L5.10125 14.6561ZM3.66331 15.0347H5.75282V13.5347H3.66331V15.0347ZM8.27273 16.5108C9.63349 16.5108 10.8152 15.7597 11.4442 14.6561L10.1411 13.9133C9.76412 14.5746 9.06551 15.0108 8.27273 15.0108V16.5108ZM11.4442 14.6561C11.7548 14.1113 11.9318 13.4796 11.9318 12.8086H10.4318C10.4318 13.2131 10.3256 13.5896 10.1411 13.9133L11.4442 14.6561ZM22.0682 12.8086C22.0682 13.4796 22.2452 14.1113 22.5558 14.6561L23.8589 13.9133C23.6744 13.5896 23.5682 13.2131 23.5682 12.8086H22.0682ZM22.5558 14.6561C23.1848 15.7597 24.3665 16.5108 25.7273 16.5108V15.0108C24.9345 15.0108 24.2359 14.5746 23.8589 13.9133L22.5558 14.6561ZM10.7926 15.0347H23.2074V13.5347H10.7926V15.0347ZM25.7273 16.5108C27.088 16.5108 28.2697 15.7597 28.8988 14.6561L27.5956 13.9133C27.2187 14.5746 26.5201 15.0108 25.7273 15.0108V16.5108ZM28.8988 14.6561C29.2093 14.1113 29.3864 13.4796 29.3864 12.8086H27.8864C27.8864 13.2131 27.7801 13.5896 27.5956 13.9133L28.8988 14.6561ZM28.2472 15.0347H29.8373V13.5347H28.2472V15.0347ZM33.237 11.926L33.5082 8.89913L32.0142 8.76529L31.743 11.7921L33.237 11.926ZM30.3961 5.1934L25.6264 4.79003L25.5 6.2847L30.2697 6.68806L30.3961 5.1934ZM23.9543 3.91763C22.5218 2.50608 19.3928 0.25 14.0909 0.25V1.75C18.9192 1.75 21.6873 3.78967 22.9015 4.98608L23.9543 3.91763ZM14.0909 0.25C10.5965 0.25 8.75562 1.06862 7.31122 2.05891C5.85432 3.05777 5.12007 3.9291 3.44037 4.39032L3.83754 5.83678C5.84136 5.28657 6.98518 4.10113 8.15942 3.29607C9.34615 2.48244 10.8895 1.75 14.0909 1.75V0.25ZM11 7.77385H13V6.27385H11V7.77385ZM17 7.77385H19V6.27385H17V7.77385ZM29.8373 15.0347C31.6044 15.0347 33.0794 13.686 33.237 11.926L31.743 11.7921C31.6546 12.7787 30.8279 13.5347 29.8373 13.5347V15.0347ZM25.6264 4.79003C25.0424 4.74065 24.459 4.41492 23.9543 3.91763L22.9015 4.98608C23.5616 5.6365 24.4546 6.19629 25.5 6.2847L25.6264 4.79003ZM0.25 11.6214C0.25 13.5065 1.77819 15.0347 3.66331 15.0347V13.5347C2.60662 13.5347 1.75 12.6781 1.75 11.6214H0.25ZM33.5082 8.89913C33.677 7.01491 32.2811 5.35281 30.3961 5.1934L30.2697 6.68806C31.3264 6.77742 32.1088 7.7091 32.0142 8.76529L33.5082 8.89913ZM1.75 8.09155C1.75 7.08035 2.6099 6.17387 3.83754 5.83678L3.44037 4.39032C1.83119 4.83217 0.25 6.16094 0.25 8.09155H1.75Z"
                fill="var(--color-blue)"
                v-if="activeTab == 1"
              />
              <path
                d="M11 6.27385C10.5858 6.27385 10.25 6.60964 10.25 7.02385C10.25 7.43806 10.5858 7.77385 11 7.77385V6.27385ZM13 7.77385C13.4142 7.77385 13.75 7.43806 13.75 7.02385C13.75 6.60964 13.4142 6.27385 13 6.27385V7.77385ZM17 6.27385C16.5858 6.27385 16.25 6.60964 16.25 7.02385C16.25 7.43806 16.5858 7.77385 17 7.77385V6.27385ZM19 7.77385C19.4142 7.77385 19.75 7.43806 19.75 7.02385C19.75 6.60964 19.4142 6.27385 19 6.27385V7.77385ZM32.49 11.859L33.237 11.926L32.49 11.859ZM23.4279 4.45185L23.9543 3.91763L23.4279 4.45185ZM32.7612 8.83221L32.0142 8.76529L32.7612 8.83221ZM0.25 8.09155V11.6214H1.75V8.09155H0.25ZM8.27273 9.10647C6.24151 9.10647 4.61364 10.7744 4.61364 12.8086H6.11364C6.11364 11.582 7.09065 10.6065 8.27273 10.6065V9.10647ZM11.9318 12.8086C11.9318 10.7744 10.3039 9.10647 8.27273 9.10647V10.6065C9.45481 10.6065 10.4318 11.582 10.4318 12.8086H11.9318ZM25.7273 9.10647C23.6961 9.10647 22.0682 10.7744 22.0682 12.8086H23.5682C23.5682 11.582 24.5452 10.6065 25.7273 10.6065V9.10647ZM29.3864 12.8086C29.3864 10.7744 27.7585 9.10647 25.7273 9.10647V10.6065C26.9094 10.6065 27.8864 11.582 27.8864 12.8086H29.3864ZM4.61364 12.8086C4.61364 13.4796 4.7907 14.1113 5.10125 14.6561L6.4044 13.9133C6.2199 13.5896 6.11364 13.2131 6.11364 12.8086H4.61364ZM5.10125 14.6561C5.73029 15.7597 6.91196 16.5108 8.27273 16.5108V15.0108C7.47994 15.0108 6.78134 14.5746 6.4044 13.9133L5.10125 14.6561ZM3.66331 15.0347H5.75282V13.5347H3.66331V15.0347ZM8.27273 16.5108C9.63349 16.5108 10.8152 15.7597 11.4442 14.6561L10.1411 13.9133C9.76412 14.5746 9.06551 15.0108 8.27273 15.0108V16.5108ZM11.4442 14.6561C11.7548 14.1113 11.9318 13.4796 11.9318 12.8086H10.4318C10.4318 13.2131 10.3256 13.5896 10.1411 13.9133L11.4442 14.6561ZM22.0682 12.8086C22.0682 13.4796 22.2452 14.1113 22.5558 14.6561L23.8589 13.9133C23.6744 13.5896 23.5682 13.2131 23.5682 12.8086H22.0682ZM22.5558 14.6561C23.1848 15.7597 24.3665 16.5108 25.7273 16.5108V15.0108C24.9345 15.0108 24.2359 14.5746 23.8589 13.9133L22.5558 14.6561ZM10.7926 15.0347H23.2074V13.5347H10.7926V15.0347ZM25.7273 16.5108C27.088 16.5108 28.2697 15.7597 28.8988 14.6561L27.5956 13.9133C27.2187 14.5746 26.5201 15.0108 25.7273 15.0108V16.5108ZM28.8988 14.6561C29.2093 14.1113 29.3864 13.4796 29.3864 12.8086H27.8864C27.8864 13.2131 27.7801 13.5896 27.5956 13.9133L28.8988 14.6561ZM28.2472 15.0347H29.8373V13.5347H28.2472V15.0347ZM33.237 11.926L33.5082 8.89913L32.0142 8.76529L31.743 11.7921L33.237 11.926ZM30.3961 5.1934L25.6264 4.79003L25.5 6.2847L30.2697 6.68806L30.3961 5.1934ZM23.9543 3.91763C22.5218 2.50608 19.3928 0.25 14.0909 0.25V1.75C18.9192 1.75 21.6873 3.78967 22.9015 4.98608L23.9543 3.91763ZM14.0909 0.25C10.5965 0.25 8.75562 1.06862 7.31122 2.05891C5.85432 3.05777 5.12007 3.9291 3.44037 4.39032L3.83754 5.83678C5.84136 5.28657 6.98518 4.10113 8.15942 3.29607C9.34615 2.48244 10.8895 1.75 14.0909 1.75V0.25ZM11 7.77385H13V6.27385H11V7.77385ZM17 7.77385H19V6.27385H17V7.77385ZM29.8373 15.0347C31.6044 15.0347 33.0794 13.686 33.237 11.926L31.743 11.7921C31.6546 12.7787 30.8279 13.5347 29.8373 13.5347V15.0347ZM25.6264 4.79003C25.0424 4.74065 24.459 4.41492 23.9543 3.91763L22.9015 4.98608C23.5616 5.6365 24.4546 6.19629 25.5 6.2847L25.6264 4.79003ZM0.25 11.6214C0.25 13.5065 1.77819 15.0347 3.66331 15.0347V13.5347C2.60662 13.5347 1.75 12.6781 1.75 11.6214H0.25ZM33.5082 8.89913C33.677 7.01491 32.2811 5.35281 30.3961 5.1934L30.2697 6.68806C31.3264 6.77742 32.1088 7.7091 32.0142 8.76529L33.5082 8.89913ZM1.75 8.09155C1.75 7.08035 2.6099 6.17387 3.83754 5.83678L3.44037 4.39032C1.83119 4.83217 0.25 6.16094 0.25 8.09155H1.75Z"
                fill="var(--color-gray-600)"
                v-else
              />
            </svg>

            خودرو
          </div>
          <div
            :class="['tab', { active: activeTab == 2 }]"
            @click="activeTab = 2"
          >
            <icons-motor
              :width="35"
              :height="21"
              v-if="activeTab == 2"
              hashColor="var(--color-blue)"
            />
            <icons-motor
              :width="35"
              :height="21"
              v-else
              hashColor="var(--color-gray-600)"
            />
            موتورسیکلت
          </div>
          <div
            :class="['tab', { active: activeTab == 3 }]"
            @click="activeTab = 3"
          >
            <svg
              v-if="activeTab == 3"
              width="24"
              height="22"
              viewBox="0 0 24 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.9543 0C22.969 0.0292957 22.9836 0.073241 23.0128 0.102537C23.8459 0.717746 24.0798 1.55267 23.9775 2.54872C23.9336 3.04675 23.9629 3.54478 23.9629 4.05745C23.9044 4.0721 23.8606 4.1014 23.8167 4.1014C22.662 4.13069 21.5219 4.17463 20.3672 4.17463C16.2746 4.18928 12.1674 4.17464 8.07479 4.18928C7.57783 4.18928 7.05163 4.29182 6.56929 4.43829C5.37074 4.80449 4.6253 5.82984 4.58145 7.08955C4.56683 7.70476 4.58145 8.31997 4.58145 8.97913C3.04672 8.97913 1.55584 8.97913 0.00649621 8.97913C0.00649621 8.61293 -0.00812026 8.21744 0.00649621 7.8366C0.0503456 6.53294 0.269593 5.25858 0.810402 4.05745C1.77509 1.97746 3.4706 0.849573 5.63383 0.336899C6.21849 0.205068 6.80315 0.117184 7.40243 0.0146487C12.6059 8.9407e-07 17.7801 0 22.9543 0Z"
                fill="#FF9D0C"
              />
              <path
                d="M0.078125 11.0298C1.59824 11.0298 3.04527 11.0298 4.50691 11.0298C4.52153 12.2602 4.72616 13.4027 5.15004 14.5013C5.86625 16.2737 7.07941 17.4748 9.03802 17.7678C10.4266 17.9729 11.7421 17.8557 12.9114 16.9915C13.8176 16.3177 14.2853 15.3802 14.5923 14.3256C14.6361 14.1644 14.6654 14.0033 14.7092 13.8422C16.1124 13.8422 17.5009 13.8422 18.9772 13.8422C18.8749 14.4574 18.831 15.0579 18.6849 15.6439C18.2902 17.2112 17.6033 18.6174 16.3901 19.7453C15.3669 20.6827 14.1684 21.2833 12.8529 21.6495C11.4351 22.045 9.98809 22.045 8.55567 21.9424C6.78708 21.8106 5.12081 21.2394 3.73224 20.0968C2.48984 19.0715 1.59824 17.7678 1.04281 16.2444C0.633552 15.1312 0.341221 13.9887 0.253522 12.7875C0.209673 12.187 0.136591 11.6011 0.078125 11.0298Z"
                fill="var(--color-blue)"
              />
            </svg>
            <svg
              v-else
              width="24"
              height="22"
              viewBox="0 0 24 22"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M22.9543 0C22.969 0.0292957 22.9836 0.073241 23.0128 0.102537C23.8459 0.717746 24.0798 1.55267 23.9775 2.54872C23.9336 3.04675 23.9629 3.54478 23.9629 4.05745C23.9044 4.0721 23.8606 4.1014 23.8167 4.1014C22.662 4.13069 21.5219 4.17463 20.3672 4.17463C16.2746 4.18928 12.1674 4.17464 8.07479 4.18928C7.57783 4.18928 7.05163 4.29182 6.56929 4.43829C5.37074 4.80449 4.6253 5.82984 4.58145 7.08955C4.56683 7.70476 4.58145 8.31997 4.58145 8.97913C3.04672 8.97913 1.55584 8.97913 0.00649621 8.97913C0.00649621 8.61293 -0.00812026 8.21744 0.00649621 7.8366C0.0503456 6.53294 0.269593 5.25858 0.810402 4.05745C1.77509 1.97746 3.4706 0.849573 5.63383 0.336899C6.21849 0.205068 6.80315 0.117184 7.40243 0.0146487C12.6059 8.9407e-07 17.7801 0 22.9543 0Z"
                fill="#ABADB3"
              />
              <path
                d="M0.078125 11.0298C1.59824 11.0298 3.04527 11.0298 4.50691 11.0298C4.52153 12.2602 4.72616 13.4027 5.15004 14.5013C5.86625 16.2737 7.07941 17.4748 9.03802 17.7678C10.4266 17.9729 11.7421 17.8557 12.9114 16.9915C13.8176 16.3177 14.2853 15.3802 14.5923 14.3256C14.6361 14.1644 14.6654 14.0033 14.7092 13.8422C16.1124 13.8422 17.5009 13.8422 18.9772 13.8422C18.8749 14.4574 18.831 15.0579 18.6849 15.6439C18.2902 17.2112 17.6033 18.6174 16.3901 19.7453C15.3669 20.6827 14.1684 21.2833 12.8529 21.6495C11.4351 22.045 9.98809 22.045 8.55567 21.9424C6.78708 21.8106 5.12081 21.2394 3.73224 20.0968C2.48984 19.0715 1.59824 17.7678 1.04281 16.2444C0.633552 15.1312 0.341221 13.9887 0.253522 12.7875C0.209673 12.187 0.136591 11.6011 0.078125 11.0298Z"
                fill="#ABADB3"
              />
            </svg>
            همکار من
          </div>
        </div>
        <div class="tab__data">
          <div class="content" v-if="activeTab == 1">
            <nuxt-link @click="closeSideBar" class="mt-1_5" to="/car"
              >خرید خودرو</nuxt-link
            >
            <nuxt-link @click="closeSideBar" class="mt-1_5" to="/price"
              >قیمت روز</nuxt-link
            >
            <nuxt-link @click="closeSideBar" class="mt-1_5" to="/sell/car"
              >ثبت آگهی</nuxt-link
            >
            <nuxt-link @click="closeSideBar" class="mt-1_5" to="/car-review"
              >مشخصات فنی</nuxt-link
            >
            <nuxt-link @click="closeSideBar" class="mt-1_5" to="/account/notify"
              >گوش به زنگ</nuxt-link
            >
            <nuxt-link class="mt-1_5" to="/">نمایشگاه های خودرو</nuxt-link>
          </div>
          <div class="content" v-if="activeTab == 2">
            <nuxt-link to="/motor">خرید موتورسیکلت</nuxt-link>
            <nuxt-link to="/price/motor">قیمت روز</nuxt-link>
            <nuxt-link to="/sell/motor">ثبت آگهی</nuxt-link>
            <nuxt-link to="/account/notify">گوش به زنگ</nuxt-link>
            <nuxt-link to="/">نمایشگاه های موتورسیکلت</nuxt-link>
          </div>
          <div class="content" v-if="activeTab == 3">
            <nuxt-link to="/">تعرفه پکیج ها</nuxt-link>
            <nuxt-link to="/account/exhibition/register"
              >ثبت نام نمایشگاه</nuxt-link
            >
            <nuxt-link to="/">اخباز</nuxt-link>
            <nuxt-link to="/">قوانین و شرایط</nuxt-link>
            <nuxt-link to="/">درباره ما</nuxt-link>
          </div>
        </div>
        <div class="row justify-content-space-between mt-4">
          <label for="change__them" class="grow-1 font-5 color_gray_600 w-full"
            >حالت
            <span v-if="theme == 'light'">روز</span>
            <span v-if="theme == 'dark'">شب</span>
          </label>
          <div class="grow-1 w-full change__theme">
            <ChangeTheme @current-them="(t) => (theme = t)"></ChangeTheme>
          </div>
        </div>
      </div>
    </aside>
  </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import { authStore } from "~~/stores/auth.store";

const props = defineProps({
  modelValue: {
    type: Boolean,
    default: true,
  },
});
const emit = defineEmits(["update:modelValue"]);
const authData = authStore();

const theme = ref("");
const activeTab = ref(1);

const closeSideBar = () => {
  emit("update:modelValue", false);
};
</script>

<style scoped>
.change__theme {
  display: flex;
  justify-content: flex-end;
}
.auth__link {
  gap: 1rem !important;
  display: flex;
}
.back__drop {
  position: fixed;
  background: rgba(0, 0, 0, 0.5);
  width: 100%;
  height: 100%;
  z-index: 999;
}
aside {
  position: fixed;
  background: var(--color-white);
  width: 70%;
  height: 100%;
  z-index: 1000;
  transition: all ease 0.5s;
  right: 0;
}
aside.close {
  right: -100%;
}
.top {
  background: var(--color-gray-200);
  width: 100%;
  left: 0;
  padding: 2rem 1.5rem;
}
aside img {
  width: 120px;
  height: 41px;
}
.body {
  padding: 2rem 1.5rem;
}
.tabs {
  display: flex;
  border-bottom: 2px solid var(--color-gray-200);
  padding-bottom: 12px;
}
.tab.active {
  color: var(--color-blue);
  position: relative;
}
.tab.active::before {
  position: absolute;
  width: 100%;
  content: "";
  height: 2px;
  background: #acd4ff;
  bottom: -13px;
  right: 0;
}
.tab {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  font-family: var(--t7-font-family);
  font-size: var(--t7-font-size);
  align-items: center;
  gap: 9px;
  color: var(--color-gray-600);
}
.content {
  font-family: var(--t4-font-family);
  font-size: var(--t4-font-size);
}
.content a {
  display: block;
  color: var(--color-black);
  margin-top: 1.5rem;
}
</style>